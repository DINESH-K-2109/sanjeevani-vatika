import{r as t,j as e,R as Ae}from"./react-OkdeRcND.js";import{c as _e}from"./react-dom-D4zyZcM6.js";import{a as p}from"./axios-B4uVmeYG.js";import{Q as W,B as w}from"./react-toastify-D0J-sDwA.js";import{S as Pe}from"./react-slick-Bk6Dqm5m.js";/* empty css                       */import{a as M,b as J,d as Be,e as E}from"./react-router-B8pm9MLO.js";import{L as Q,B as Te}from"./react-router-dom-Dogv-39F.js";import{J as be}from"./jodit-react-D9vteeDF.js";import{F as Ne,a as Oe,b as Ge,c as Je}from"./react-icons-C1p4MbhU.js";import{l as fe}from"./socket.io-client-DFi9RC7o.js";import{z as pe}from"./@zegocloud-DHxPrRMv.js";import"./scheduler-CzFDRTuY.js";import"./clsx-B-dksMZM.js";import"./lodash.debounce-1uYg-FxG.js";import"./classnames-DTKT5ssy.js";import"./resize-observer-polyfill-D2iVW1Ce.js";import"./json2mq-DXkj81uw.js";import"./string-convert-DdSrkZLz.js";import"./enquire.js-B8qsBZnP.js";import"./@remix-run-YI_hLLil.js";import"./engine.io-client-DBBxzneW.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&m(s)}).observe(document,{childList:!0,subtree:!0});function h(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function m(l){if(l.ep)return;l.ep=!0;const c=h(l);fetch(l.href,c)}})();const L="https://backend-social-13bd.onrender.com",Ve=`${L}/register`,He=`${L}/login`,We=`${L}/addblog`,qe=`${L}/getblogs`,ye=`${L}/getallblogs`,z=`${L}/blogdetails`,ne=`${L}/tag`,Ye=`${L}/editblog`,Ke=`${L}/deleteblog`,ze=`${L}/addcomments`,Ze=`${L}/getcomments`,Qe=`${L}/editcommets`,Xe=`${L}/deletecomment`,es=`${L}/userprofile`,ve=`${L}/getuserprofile`,ss=`${L}/edituserprofile`,ts=`${L}`,we=`${L}`,as=`${L}`,os=`${L}/allusersprofiles`,rs=`${L}/addmessage`,ls=`${L}/getallmessage`,Se=`${L}/getallusers`,ns="/assets/love-B1H1hs-9.png",cs="/assets/heart-CDo4cqBM.png",Fe="https://backend-social-13bd.onrender.com",is=`${Fe}/addreplytocomment`,ds=`${Fe}/getallreplyforcomment`,$e="https://backend-social-13bd.onrender.com",ms=`${$e}/addreplytoreply`,us=`${$e}/getallreplyforreply`;function gs({comment:u}){const[o,h]=t.useState(!1),[m,l]=t.useState([]),[c,s]=t.useState(!1),[n,a]=t.useState(""),[i,r]=t.useState("Enter your reply ! "),[d,x]=t.useState(),[b,g]=t.useState(!1),C=()=>{h(!0)},I=async D=>{s(!0),g(!0),console.log(D);try{const U=await p.post(`${us}`,{replyIdTo:D._id})}catch(U){console.log(U)}},f=D=>{s(!0),console.log(D),r(D.reply),x(D)},N=D=>{a(D.target.value)},k=async()=>{const D=JSON.parse(localStorage.getItem("blog-user"));console.log(D);try{const U=await p.post(`${ms}`,{replyIdTo:d._id,replyIdFrom:D._id,reply:n,author:D.username});console.log(U)}catch(U){console.log(U)}a("")},_=()=>{s(!1)};return t.useEffect(()=>{(async()=>{try{const U=await p.post(ds,{commentId:u._id});U&&l(U.data.response)}catch(U){console.log(U)}})()},[m]),e.jsx("div",{className:"mt-4",children:o?e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"Replies:"}),c==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("input",{value:n,onChange:N,className:"border border-gray-400 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500",type:"text",placeholder:`Replying for: ${i}`}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:k,className:"bg-green-500 hover:bg-green-600 text-white mt-2  font-bold py-2 px-4 rounded shadow-md",children:"Reply"}),e.jsx("button",{onClick:_,className:"bg-red-500 hover:bg-red-600 text-white mt-2  font-bold py-2 px-4 rounded shadow-md",children:"cancel"})]})]})}):e.jsx(e.Fragment,{}),m.map((D,U)=>e.jsxs("div",{className:"bg-gray-100 p-4 rounded mb-2 flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800",children:D.reply}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>I(D),className:"text-blue-500 hover:text-blue-700 focus:outline-none",children:e.jsx(Ne,{})}),e.jsx("button",{onClick:()=>f(D),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-2 rounded-full focus:outline-none focus:shadow-outline",children:e.jsx(Oe,{})}),e.jsx("button",{className:"text-yellow-500 hover:text-yellow-700 focus:outline-none",children:e.jsx(Ge,{})}),e.jsx("button",{className:"text-red-500 hover:text-red-700 focus:outline-none",children:e.jsx(Je,{})})]})]},U))]}):e.jsxs("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:C,children:[e.jsx(Ne,{className:"inline-block mr-2"})," View Replies"]})})}function ke({comment:u}){const[o,h]=t.useState(!1),[m,l]=t.useState(""),c=a=>{l(a.target.value)},s=()=>{console.log("cliked"),h(!0),console.log(u),console.log(m)},n=async()=>{l(""),h(!1);const i=new Date().toLocaleString();try{if(m.length>0){const r=await p.post(`${is}`,{replyId:u._id,reply:m,author:u.author,date:i});console.log(r),r&&(w.success("hey ! your Reply is added successfully"),h(!1))}}catch(r){console.log(r)}};return e.jsxs("div",{className:"p-4",children:[e.jsx(gs,{comment:u}),o==!1?e.jsx("button",{onClick:s,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded shadow-md",children:"Reply"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("input",{value:m,onChange:c,className:"border border-gray-400 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500",type:"text",placeholder:"Enter your text here..."}),e.jsx("button",{onClick:n,className:"bg-green-500 hover:bg-green-600 text-white mt-2  font-bold py-2 px-4 rounded shadow-md",children:"Reply"})]})}),e.jsx(W,{})]})}const hs="/assets/chat-P5UNdx8k.png",xs="/assets/saved%20post-CP67re2f.png",je="https://backend-social-13bd.onrender.com",De=`${je}/addpoststoprofile`,ps=`${je}/getpostsofprofile`,bs=`${je}/deleteusersavedpostfromUserprofile`;function fs(){var q;const[u,o]=t.useState(""),[h,m]=t.useState(!1),[l,c]=t.useState(!1),[s,n]=t.useState([]),[a,i]=t.useState(),[r,d]=t.useState(""),[x,b]=t.useState(""),[g,C]=t.useState(),[I,f]=t.useState(!1),[N,k]=t.useState(),[_,D]=t.useState(!1),[U,H]=t.useState(!1),[S,R]=t.useState(0);t.useState(!1);const[T,Y]=t.useState(0),[F,A]=t.useState(0),[O,K]=t.useState(!1);t.useState(!1);const[Z,v]=t.useState("set Dummy"),G=M(),P=(q=J().state)==null?void 0:q.blogDetails;t.useEffect(()=>{(async()=>{try{const y=await JSON.parse(localStorage.getItem("blog-user"));console.log(y._id),C(y._id),y||G("/register")}catch(y){console.log(y)}})()},[]),t.useEffect(()=>{i(P._id),b(P.id)},[]),t.useEffect(()=>{(async y=>{try{const V=await p.post(`${we}`,{blogId:y,likesCount:1,likedOrNot:!0});console.log(V,y)}catch(V){console.log(V)}})()},[]),t.useEffect(()=>{(async()=>{try{const y=await JSON.parse(localStorage.getItem("blog-user"));d(y.username)}catch(y){console.log(y)}})()},[]);const de=async j=>{try{const V=(await p.get(`${ne}/${j}`)).data.blog;G(`/tag/${j}`,{state:{blogByTag:V,tag:j}})}catch(y){console.log(y)}},se=async j=>{o(j.target.value)},me=async()=>{u.trim()!==""&&o("");try{const j=await JSON.parse(localStorage.getItem("blog-user"));try{const y=await p.post(`${ze}/${a}`,{id:a,author:j.username,comment:u,date:new Date});y.data.status===!0?w.success(`hello ${j.username} your comment is posted successfully`):w.error(`${y.data.message} try again`)}catch(y){console.log(y)}}catch(j){console.log(j)}},ue=()=>{m(!h),c(!0)},te=(j,y)=>{f(!0),o(j),k(y)},ae=async j=>{try{(await p.post(`${Qe}/${j}`,{id:j,newComment:u})).data.status&&(w.success("Your Comment is Edited successfully"),o(""))}catch(y){console.log(y)}f(!1)};t.useEffect(()=>{(async()=>{try{const y=await p.get(`${Ze}/${P._id}`);n(y.data.comments.reverse())}catch(y){console.log(y)}})()},[s,ae]);const oe=async j=>{console.log(j),(await p.post(`${Xe}/${j}`,{id:j})).data.status&&w.warn("Your comment is deleted !")},ge=()=>{o(""),f(!1)},he=async j=>{if(console.log("current user",r),console.log(g),H(y=>!y),R(y=>y?y-1:y+1),U)try{const y=await p.post(`${as}`,{currentUserId:g,blogId:j,likesCount:0,likeToggler:!1});console.log(y)}catch(y){console.log(y)}else try{const y=await p.post(`${ts}`,{currentUserId:g,blogId:j,likesCount:1,likeToggler:!0});console.log(y)}catch(y){console.log(y)}};t.useState(()=>{(async()=>{const y=P._id;console.log("the current user and post id",g);try{try{const V=await JSON.parse(localStorage.getItem("blog-user"));console.log("the local:::",V._id),C(V._id);const re=await p.post(`${we}`,{blogId:y,currentUserId:V._id});console.log(re.data.response),re.data&&(Y(re.data.response.likesCount),A(re.data.response.likeToggler))}catch(V){console.log(V)}}catch(V){console.log(V)}})()},[]);const xe=()=>{console.log("clicked"),K(!0)},$=async j=>{try{const y=await p.post(`${De}`,{userId:g,postDetails:j,savedStatus:!0});console.log(y)}catch(y){console.log(y)}};t.useEffect(()=>{if(P.content){const j=B(P.content);v(j)}},[P.content]);const B=j=>new DOMParser().parseFromString(j,"text/html").body.textContent||"";return e.jsxs("div",{className:"bg-slate-500",children:[e.jsx("div",{className:"container mx-auto mt-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded shadow",children:[e.jsx("img",{src:P.imageUrl,alt:P.title,className:"w-full h-64 object-cover mb-8 rounded"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:P.title}),e.jsxs("span",{className:"text-gray-600 text-sm",children:["Posted on ",new Date(P.date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})]}),e.jsx("p",{className:"text-red-600 mb-4",children:P.author}),e.jsx("p",{className:"text-gray-500 mb-4",children:P.category}),e.jsx("div",{className:"flex mb-4 space-x-2",children:P.tags.map((j,y)=>e.jsx("button",{onClick:()=>de(j),className:"bg-green-300 hover:bg-green-400 text-green-800 py-1 px-2 rounded transition duration-300 ease-in-out",children:e.jsx("span",{className:"px-2 py-1 text-xs text-gray-700 rounded",children:j},y)},y+1))}),e.jsxs("p",{className:"text-gray-800",children:[" ",Z," "]}),e.jsxs("div",{className:" flex justify-between",children:[e.jsxs("button",{className:" bg-white-100 bg-neutral-500   border-spacing-3 text-white font-bold py-2 px-4 rounded mt-4",onClick:()=>ue(P._id),children:[e.jsx("img",{className:"w-10 h-10",src:hs,alt:"comments"}),e.jsx("span",{className:"ml-2",children:"Add Comment"})]}),e.jsx("button",{className:"focus:outline-none",children:e.jsx("img",{onClick:()=>$(P),className:"w-10 h-10 hover:opacity-75 transition duration-300",src:xs,alt:"Save Post"})}),e.jsxs("button",{className:`mt-4 ${U||F?"text-red-500":"text-gray-500"} font-bold flex items-center focus:outline-none`,onClick:()=>he(P._id),children:[U||F?e.jsx("img",{className:"h-10 w-10 text-red-500",src:cs,alt:"liked"}):e.jsx("img",{className:"h-10 w-10 text-gray-500",src:ns,alt:"Disliked"}),e.jsx("span",{children:S})]})]})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Hello ! ",r," Comment if the blog is helpful"]}),h&&e.jsxs(e.Fragment,{children:[e.jsx("form",{children:e.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-500",rows:"4",placeholder:"Add your comment...",value:u,onChange:se})}),I===!0?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ae(N),type:"submit",className:"mt-2 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",children:"Edit Comment"}),e.jsx("button",{type:"button",onClick:ge,className:"mt-2 ml-2 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",children:"Cancel"})]}):e.jsx("button",{onClick:me,type:"submit",className:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",children:"Add Comment"})]})]}),l&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"All Comments"}),e.jsx("div",{className:"mt-4 flex justify-center",children:!O&&e.jsxs(e.Fragment,{children:["  ",e.jsx("button",{onClick:xe,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",children:"Load All Comments"})]})}),!O&&s.slice(0,3).map((j,y)=>e.jsxs("div",{className:"border p-4 mb-4 rounded",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:j.author}),e.jsx("p",{className:"text-gray-800 mb-2",children:j.comment}),e.jsxs("span",{className:"text-gray-600 text-sm",children:[!_&&e.jsx("span",{children:"Posted on "}),"  ",new Date(j.date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})]}),e.jsx(ke,{comment:j}),r===j.author&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("button",{className:"text-blue-500 hover:underline",onClick:()=>te(j.comment,j._id),children:"Edit Comment"}),e.jsx("button",{className:"text-red-500 hover:underline",onClick:()=>oe(j._id),children:"Delete Comment"})]})]},y)),O&&s.map((j,y)=>e.jsxs("div",{className:"border p-4 mb-4 rounded",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:j.author}),e.jsx("p",{className:"text-gray-800 mb-2",children:j.comment}),e.jsxs("span",{className:"text-gray-600 text-sm",children:[!_&&e.jsx("span",{children:"Posted on "}),"  ",new Date(j.date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})]}),e.jsx(ke,{comment:j}),r===j.author&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("button",{className:"text-blue-500 hover:underline",onClick:()=>te(j.comment,j._id),children:"Edit Comment"}),e.jsx("button",{className:"text-red-500 hover:underline",onClick:()=>oe(j._id),children:"Delete Comment"})]})]},y))]}),e.jsx(W,{})]})}const Ie="/assets/read-CoZz5Zje.png",ys=()=>{const[u,o]=t.useState([]),h=M();t.useEffect(()=>{(async()=>{try{const s=await p.get(ye);o(s.data.blogs)}catch(s){console.error("Error fetching posts:",s)}})()},[]);const m={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]},l=async c=>{try{const n=(await p.get(`${z}/${c._id}`)).data.blog;h("/blogdetails",{state:{blogDetails:n}})}catch(s){console.log(s)}};return e.jsx("div",{className:"w-full bg-purple-400 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-8 text-center",children:"The Trending Posts of Today"}),e.jsx(Pe,{...m,children:u.slice(0,5).map(c=>e.jsx("div",{onClick:()=>l(c),className:"px-4 transition-transform duration-300 ease-in-out hover:cursor-pointer transform hover:-translate-y-1 shadow-purple",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 transition duration-300 hover:shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4",children:[c.title.substring(0,20),"......."]}),e.jsxs("p",{className:"text-gray-600",children:[c.content.substring(0,25),".........."]}),e.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-48 object-cover rounded-lg"})]})},c.id))})]})})};function Ce(){const[u,o]=t.useState([]),[h,m]=t.useState({}),[l,c]=t.useState({}),[s,n]=t.useState(),[a,i]=t.useState(),r=M();t.useEffect(()=>{(async()=>{try{const N=await JSON.parse(localStorage.getItem("blog-user"));N?n(N):r("/")}catch(N){console.log(N)}})()},[]);const d=async()=>{try{const N=(await p.get(`${ye}`)).data.blogs;o(N)}catch(f){console.log(f)}};t.useEffect(()=>{d()},[]);const x=async f=>{try{const k=(await p.get(`${z}/${f}`)).data.blog;r("/blogdetails",{state:{blogDetails:k}})}catch(N){console.log(N)}},b=async f=>{try{const k=(await p.get(`${ne}/${f}`)).data.blog;r(`/tag/${f}`,{state:{blogByTag:k,tag:f}})}catch(N){console.log(N)}},g=f=>{i(f),m(N=>{const k={...N};return k[f]=!k[f],k}),c(N=>{const k={...N};return k[f]=h[f]?k[f]-1:k[f]+1,k})},C=f=>{f.id==s._id?r("/userprofile"):r("/allusersprofiles",{state:{id:f.id,currentUserId:s._id,author:f.author}}),console.log("this is suther::",f.author,s._id)},I=()=>{console.log("clicked"),r("/allblogsposts")};return e.jsxs("div",{className:"container bg-slate-500 mx-auto",children:[e.jsx(ys,{}),e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.slice(0,6).map((f,N)=>e.jsxs("div",{className:"border p-4 rounded bg-white shadow-md transform hover:scale-105 transition duration-300 ease-in-out",children:[e.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-full h-32 object-cover mb-4 rounded"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:f.title}),e.jsx("button",{onClick:()=>C(f),children:e.jsx("p",{className:"text-gray-600 mb-2",children:f.author})}),e.jsx("p",{className:"text-gray-500",children:f.category}),e.jsx("div",{className:"flex mt-4 space-x-2",children:f.tags.map((k,_)=>e.jsx("button",{onClick:()=>b(k),className:"bg-green-300 hover:bg-green-400 text-green-800 py-1 px-2 rounded transition duration-300 ease-in-out",children:e.jsx("span",{className:"px-2 py-1 text-xs text-gray-700 rounded",children:k},_)},_+1))}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>x(f._id),children:"Read More"}),e.jsx("button",{className:"text-white font-bold py-2 px-4 rounded",onClick:()=>g(f._id),children:"Like"})]})]},N*2+1))}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("button",{onClick:I,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",children:"All Blogs"})})]})}function js(){const u=M(),[o,h]=t.useState(""),[m,l]=t.useState(""),c=async s=>{s.preventDefault();try{const n=await p.post(`${He}`,{username:o,password:m});if(n.data.status==!1)w.error(`${n.data.message}`);else{w.success(`${n.data.message}`);const a=JSON.stringify(n.data.userDetails);localStorage.setItem("blog-user",a),u("/")}}catch(n){console.log(n)}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:e.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:e.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Create and account"}),e.jsxs("form",{onSubmit:c,className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter your User name"}),e.jsx("input",{type:"username",name:"username",id:"username",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your user name",onChange:s=>{h(s.target.value)},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),e.jsx("input",{type:"password",name:"password",id:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:s=>{l(s.target.value)},required:!0})]}),e.jsx("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Login"}),e.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Do not  have an account? ",e.jsx("a",{href:"google.com",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:e.jsx(Q,{to:"/register",children:"Register here today "})})]})]})]})})}),e.jsx(W,{})]})})}function Ns(){const u=M(),[o,h]=t.useState(""),[m,l]=t.useState("");t.useState("");const[c,s]=t.useState(""),[n,a]=t.useState(""),i=async r=>{if(r.preventDefault(),o.length==0||m.length==0||c.length==0||n.length==0){w.error("all fields are required!");return}else if(o.length<3)w.error("username must be of at least 3 character");else if(!/^\S+@\S+\.\S+$/.test(m))w.error("Invalid email format");else if(c.length<8)w.error("Password must be at least 8 characters long");else if(c!==n)w.error("Passwords do not match");else if(!/[A-Z]/.test(c))w.error("Password must contain at least one uppercase letter");else if(!/\d/.test(c))w.error("Password must contain at least one digit");else if(!/[!@#$%^&*(),.?":{}|<>]/.test(c))w.error("Password must contain at least one special character");else try{const d=await p.post(`${Ve}`,{username:o,email:m,password:c});console.log(d.data),d.data.status==!1?w.error(`${d.data.message}`):d.data.status==!0&&(u("/login"),w.success("Account created successfully"))}catch(d){console.log(d)}console.log(o,m,c,n)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:e.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:e.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Create and account"}),e.jsxs("form",{onSubmit:i,className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter your User name"}),e.jsx("input",{type:"username",name:"username",id:"username",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your user name",onChange:r=>{h(r.target.value)},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e.jsx("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"username@company.com",onChange:r=>{l(r.target.value)},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),e.jsx("input",{type:"password",name:"password",id:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:r=>{s(r.target.value)},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),e.jsx("input",{type:"confirm-password",name:"confirm-password",id:"confirm-password",placeholder:"••••••••",onChange:r=>{a(r.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Create an account"}),e.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account?",e.jsx(Q,{className:'className="font-medium text-primary-600 hover:underline dark:text-primary-500"',to:"/login",children:"Login "})]})]})]})})}),e.jsx(W,{})]})})}function vs(){var H;(H=J().state)==null||H.message,t.useState(!1),t.useState(!1);const o=M(),[h,m]=t.useState(""),[l,c]=t.useState(""),[s,n]=t.useState(""),[a,i]=t.useState(""),[r,d]=t.useState(""),[x,b]=t.useState([]),[g,C]=t.useState(""),[I,f]=t.useState(!1),N=t.useRef(null);t.useEffect(()=>{(async()=>{try{const R=await localStorage.getItem("blog-user");console.log(R),R||o("/register")}catch(R){console.log(R)}})()},[]);const k=async S=>{S.preventDefault();try{const R=await JSON.parse(localStorage.getItem("blog-user"));if(!R)o("/register");else{const T=await p.post(`${We}/:${R._id}`,{id:R._id,title:h,author:l,date:s,category:a,content:r,tags:x,imageUrl:g,featured:I});T.data.status===!1?w.error(`${T.data.message}`):T.data.status===!0&&(w.success(`${T.data.message}`),o("/myblogs"))}}catch(R){console.log(R)}},_=S=>{const R=[...x],T=R.indexOf(S);T===-1?R.push(S):R.splice(T,1),b(R)},D=["Technology","Sports","Current Affairs","World Wide","Plants","Animals","Health","Food","Travel","Fashion","Science"],U=()=>{o("/createblogeditor")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"m-10",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:U,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Open Editor Tool"})})}),e.jsxs("form",{onSubmit:k,className:"max-w-2xl mx-auto mt-8 p-8 border rounded-md shadow-lg bg-white mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Create a New Blog"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-bold mb-2",children:"Title"}),e.jsx("input",{type:"text",id:"title",name:"title",placeholder:"Enter blog title",onChange:S=>m(S.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"author",className:"block text-gray-700 font-bold mb-2",children:"Author"}),e.jsx("input",{type:"text",id:"author",name:"author",placeholder:"Enter author name",onChange:S=>c(S.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"date",className:"block text-gray-700 font-bold mb-2",children:"Date"}),e.jsx("input",{type:"date",id:"date",name:"date",onChange:S=>n(S.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 font-bold mb-2",children:"Category"}),e.jsxs("select",{id:"category",name:"category",onChange:S=>i(S.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"default",defaultValue:!0,disabled:!0,children:"Select one"}),e.jsx("option",{value:"technology",children:"Technology"}),e.jsx("option",{value:"sports",children:"Sports"}),e.jsx("option",{value:"current affairs",children:"Current Affairs"}),e.jsx("option",{value:"world wide",children:"World Wide"}),e.jsx("option",{value:"plants",children:"Plants"}),e.jsx("option",{value:"animals",children:"Animals"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"travel",children:"Travel"}),e.jsx("option",{value:"fashion",children:"Fashion"}),e.jsx("option",{value:"science",children:"Science"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"content",className:"block text-gray-700 font-bold mb-2",children:"Content"}),e.jsx(be,{ref:N,value:r,onChange:S=>d(S)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap",children:D.map(S=>e.jsxs("label",{className:"inline-flex items-center mr-4 mb-2",children:[e.jsx("input",{type:"checkbox",value:S,checked:x.includes(S),onChange:()=>_(S),className:"form-checkbox h-5 w-5 text-blue-500"}),e.jsx("span",{className:"ml-2",children:S})]},S))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imageURL",className:"block text-gray-700 font-bold mb-2",children:"Image URL"}),e.jsx("input",{type:"text",id:"imageURL",name:"imageURL",placeholder:"Enter image URL",onChange:S=>C(S.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{htmlFor:"featured",className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:I,onChange:()=>f(!I),className:"mr-2"}),e.jsx("span",{className:"text-gray-700 font-bold",children:"Featured"})]})}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300",children:"Submit"})]}),e.jsx(W,{})]})}const ws="/assets/black-BwPHBD9Q.png",ks="/assets/light-CBuhx7W3.png";function Cs(){const[u,o]=t.useState(!1),[h,m]=t.useState(""),l=M(),[c,s]=t.useState(!1),[n,a]=t.useState(),i=()=>{console.log("Toggling mobile menu"),s(!c),console.log("clicked")},r=async()=>{try{const g=await localStorage.removeItem("blog-user");console.log(g),l("/register")}catch(g){console.log(g)}};t.useEffect(()=>{(async()=>{try{const C=await JSON.parse(localStorage.getItem("blog-user"));C?a(C):l("/register")}catch(C){console.log(C)}})()},[]);const d=g=>{o(!u),console.log(g.target)},x=g=>{m(g.target.value)},b=()=>{console.log(h),m(""),l("/searchresults",{state:{searchData:h}})};return e.jsx("div",{children:e.jsx("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse",children:[e.jsxs("button",{"data-collapse-toggle":"navbar-user",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-user","aria-expanded":c,onClick:i,children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("img",{className:"w-8 h-8 rounded-full",src:"/docs/images/people/profile-picture-3.jpg",alt:"user photo"})]}),e.jsxs("div",{className:"z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600",id:"user-dropdown",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("span",{className:"block text-sm text-gray-900 dark:text-white",children:"Rajan"}),e.jsx("span",{className:"block text-sm  text-gray-500 truncate dark:text-gray-400",children:"ray@gmail.com"})]}),e.jsxs("ul",{className:"py-2","aria-labelledby":"user-menu-button",children:[e.jsx("li",{children:e.jsx(Q,{to:"/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Settings"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Earnings"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Sign out"})}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"dark mode"})]})]}),e.jsxs("button",{"data-collapse-toggle":"navbar-user",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-user","aria-expanded":"false",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1h15M1 7h15M1 13h15"})})]})]}),e.jsx("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-user",children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[e.jsx("li",{children:e.jsx(Q,{to:"/",className:"block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500","aria-current":"page",children:"Home"})}),e.jsx("li",{children:e.jsx(Q,{to:"/myblogs",className:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Your Blogs posts"})}),e.jsx("li",{children:e.jsx(Q,{to:"/createblog",className:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Create Blogs"})}),e.jsx("li",{children:e.jsx(Q,{to:"/userprofile",className:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"My Account"})}),e.jsx("li",{children:e.jsx("a",{onClick:r,className:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Logout"})}),e.jsxs("div",{className:"flex items-center",children:[u?e.jsx("button",{onClick:d,className:"mode-button",children:e.jsx("img",{className:"bg-gray-50 h-5 w-5",src:ks,alt:"Light Mode"})}):e.jsx("button",{onClick:d,className:"mode-button",children:e.jsx("img",{className:"h-5 w-5",src:ws,alt:"Dark Mode"})}),e.jsx("input",{value:h,onChange:x,type:"text",className:"bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded-lg outline-none ml-2"}),e.jsx("button",{onClick:b,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg ml-2",children:"Search"})]})]})})]})})})}function Ss({children:u}){return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Cs,{}),e.jsx("main",{className:"flex-1",children:u})]})}const Ue="/assets/bin-CSB0CNBj.png",Fs="/assets/edit-button-D9IN_mRj.png";function $s(){const[u,o]=t.useState(!1);t.useState(!1);const[h,m]=t.useState([]),l=M();t.useEffect(()=>{(async()=>{try{const d=await localStorage.getItem("blog-user");console.log(d),d||l("/register")}catch(d){console.log(d)}})()},[]),t.useEffect(()=>{(async()=>{try{const d=await JSON.parse(localStorage.getItem("blog-user"));if(!d)l("/register");else try{const b=(await p.get(`${qe}/${d._id}`)).data.blogs;m(b),b.length===0&&l("/createblog",{state:{message:"Hello ! You don't have any posts yet.  Start creating your first post now."}})}catch(x){console.log("Error fetching blogs:",x)}}catch(d){console.log("Error fetching user details:",d)}})()},[l]);const c=async r=>{try{const x=(await p.get(`${z}/${r}`)).data.blog;l("/blogdetails",{state:{blogDetails:x}})}catch(d){console.log(d)}},s=async r=>{console.log(r);try{const d=await p.get(`${z}/${r}`);console.log(d.data.blog);const x=d.data.blog;l("/edit",{state:{blogDetails:x,id:r}})}catch(d){console.log(d)}},n=()=>{o(!0)},a=()=>{o(!1)},i=async r=>{try{const d=await p.post(`${Ke}/${r}`,{blogId:r});d.data.status==!0&&w.error(`${d.data.message}`)}catch(d){console.log(d)}a()};return e.jsxs("div",{className:"container mx-auto mt-10",children:[e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((r,d)=>e.jsxs("div",{className:"border p-4 rounded bg-white shadow hover:shadow-lg transition duration-300",children:[e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-32 object-cover mb-4 rounded"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:r.title}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Author: ",r.author]}),e.jsxs("p",{className:"text-gray-500",children:["Category: ",r.category]}),e.jsxs("p",{className:"text-gray-700 mt-2",children:[r.content.slice(0,15),"......."]}),e.jsx("div",{className:"flex flex-wrap mt-2",children:r.tags.map((x,b)=>e.jsx("span",{className:"mr-2 text-green-500",children:x},b))}),r.featured&&e.jsx("p",{className:"text-green-600 font-semibold mt-2",children:"Featured"}),e.jsxs("div",{className:"flex  justify-between items-center space-x-10 sm:space-x-2 md:space-x-4 lg:space-x-6",children:[e.jsx("button",{className:"",onClick:()=>c(r._id),children:e.jsx("img",{src:Ie,alt:"read",className:"w-10 h-10 hover:opacity-80 transition duration-300 shadow-md"})}),e.jsx("button",{className:"",onClick:()=>s(r._id),children:e.jsx("img",{src:Fs,alt:"edit",className:"w-10 h-10 hover:opacity-80 transition duration-300 shadow-md"})}),e.jsx("button",{className:"",onClick:n,children:e.jsx("img",{src:Ue,alt:"bin",className:"w-10 h-10 hover:opacity-80 transition duration-300 shadow-md"})})]}),u&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-md",children:[e.jsx("p",{children:"Are you sure you want to delete this blog?"}),e.jsxs("div",{className:"flex justify-end mt-2",children:[e.jsx("button",{className:"bg-gray-300 px-4 py-2 mr-2 rounded",onClick:a,children:"Cancel"}),e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>i(r._id),children:"Delete"})]})]})})]},d))}),e.jsx(W,{})]})}function Ds(){var s,n;const u=M(),o=J(),h=(s=o.state)==null?void 0:s.blogByTag,m=(n=o.state)==null?void 0:n.tag;t.useEffect(()=>{(async()=>{try{const i=await localStorage.getItem("blog-user");console.log(i),i||u("/register")}catch(i){console.log(i)}})()},[]);const l=(a,i)=>a.length>i?a.substring(0,i)+"...":a,c=async a=>{try{const r=(await p.get(`${z}/${a}`)).data.blog;u("/blogdetails",{state:{blogDetails:r}})}catch(i){console.log(i)}};return e.jsxs("div",{className:"container mx-auto my-8",children:[e.jsxs("h2",{className:"text-3xl font-semibold mb-4 text-center content-center ",children:["All Blogs Related to ",e.jsx("span",{className:"text-red-500",children:m})," Tag!"]}),h&&h.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((a,i)=>e.jsxs("div",{className:"bg-white p-4 mb-4 shadow-md rounded-md transition duration-300 hover:shadow-lg",children:[e.jsx("img",{src:a.imageUrl,alt:a.title,className:"w-full h-32 object-cover mb-4 rounded transition duration-300 hover:opacity-80"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600",children:l(a.content,150)}),e.jsxs("p",{className:"text-gray-500",children:["Author: ",a.author]}),e.jsx("div",{className:"flex mt-4 space-x-2 flex-wrap",children:a.tags.map((r,d)=>e.jsx("button",{className:"bg-green-300 hover:bg-green-400 text-green-800 py-1 px-2 rounded transition duration-300 ease-in-out mb-2",children:e.jsx("span",{className:"px-2 py-1 text-xs text-gray-700 rounded",children:r})},d))}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4 transition duration-300 ease-in-out",onClick:()=>c(a._id),children:"Get Full Blog"})]},i))}):e.jsx("p",{children:"No blogs found for the specified tag."})]})}const X="https://backend-social-13bd.onrender.com",Is=`${X}/allusersprofiles`,Us=`${X}/followers`,Es=`${X}/followdetails`,Rs=`${X}/followings`,Ls=`${X}/unfollowings`,Ee=`${X}/deletefollower`;function Ms(){var C,I;const u=t.useRef(),o=J(),h=(C=o.state)==null?void 0:C.id,m=(I=o.state)==null?void 0:I.author,[l,c]=t.useState(),[s,n]=t.useState(),[a,i]=t.useState(!1),r=M();t.useEffect(()=>{(async()=>{try{const N=await JSON.parse(localStorage.getItem("blog-user"));console.log("the local ::",N._id),N?n(N):r("/register")}catch(N){console.log(N)}})()},[]),t.useEffect(()=>(s&&(u.current=fe(L),u.current.emit("add-user",s._id)),()=>{u.current&&u.current.disconnect()}),[s]),t.useEffect(()=>{(async()=>{const N=await p.get(`${os}/${h}`);c(N.data.response[0])})()},[]);const d=()=>{r("/directmessage",{state:{from:s._id,to:l.userId,fromName:s.username,toName:m}}),console.log("the user name is :",l)},x=async()=>{i(!0);try{await p.post(`${Is}`,{from:s._id,fromName:s.username,to:l.userId,toName:m,following:!0})&&w.success(`Congralutulations ! you have followed ${m} `)}catch(f){console.log(f)}},b=async()=>{i(!1);try{await p.post(`${Ls}`,{from:s._id,to:l.userId,following:!1})&&w.info(`  you have Unfollowed ${m} `)}catch(f){console.log(f)}};t.useEffect(()=>{(async()=>{var N;try{const k=await JSON.parse(localStorage.getItem("blog-user"));try{const _=await p.post(`${Es}`,{from:k._id,to:h});console.log("the response is ",_.data.response),i((N=_.data.response[0])==null?void 0:N.following)}catch(_){console.log(_)}}catch(k){console.log(k)}})()},[b,b]);const g=()=>{const f=Math.floor(Math.random(5)*1e8);r("/videocall",{state:{from:s._id,to:h,callId:f}})};return e.jsxs("div",{children:[l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:l.about}),e.jsx("h1",{children:e.jsxs("p",{className:"text-Red-600 mb-2",children:["Account Type: @",m]})}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Account Type: ",l.accountType]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Country: ",l.country]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["State: ",l.state]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["District: ",l.district]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Village: ",l.village]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Profession: ",l.profession]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Phone Number: ",l.phoneNumber]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Pincode: ",l.pincode]}),e.jsxs("div",{className:"px-4  mt-4 mb-4 flex justify-between",children:[" ",e.jsx("button",{onClick:d,className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Message"}),e.jsx("button",{onClick:g,className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Video"}),a?e.jsx("button",{onClick:b,className:"mt-4 bg-red-500 text-white py-2 px-4 rounded hover:bg-red-700",children:"UnFollow"}):e.jsx("button",{onClick:x,className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Follow"})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-96 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"User has not set their profile !."}),e.jsx("button",{disabled:!0,onClick:d,className:"bg-gray-500 text-white py-2 px-4 rounded",children:"Message"})]})}),e.jsx(W,{})]})}function As(){var T,Y;const u=J(),o=(T=u.state)==null?void 0:T.blogDetails,h=(Y=u.state)==null?void 0:Y.id,m=M(),[l,c]=t.useState(""),[s,n]=t.useState(""),[a,i]=t.useState(""),[r,d]=t.useState(""),[x,b]=t.useState(""),[g,C]=t.useState([]),[I,f]=t.useState(""),[N,k]=t.useState(!1),[_,D]=t.useState(""),U=t.useRef(null);t.useEffect(()=>{(async()=>{try{const A=await localStorage.getItem("blog-user");console.log(A),A||m("/register")}catch(A){console.log(A)}})()},[]),t.useState(()=>{c(o.title),n(o.author),i(o.date),d(o.category),b(o.content),C(o.tags),f(o.imageUrl),k(o.featured),D(h)},[o,h]);const H=async F=>{F.preventDefault(),console.log(l,s,a,r,x,g,I,N,_);try{const A=await JSON.parse(localStorage.getItem("blog-user"));if(!A)m("/register");else{const O=await p.post(`${Ye}/:${_}`,{postId:_,id:A._id,title:l,author:s,date:a,category:r,content:x,tags:g,imageUrl:I,featured:N});O.data.status===!1?w.error(`${O.data.message}`):O.data.status===!0&&w.success("Your Blog has been Edited successfully!"),m("/myblogs")}}catch(A){console.log(A)}},S=F=>{const A=[...g],O=A.indexOf(F);O===-1?A.push(F):A.splice(O,1),C(A)},R=["Technology","Sports","Current Affairs","World Wide","Plants","Animals","Health","Food","Travel","Fashion","Science"];return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:H,className:"max-w-2xl mx-auto mt-8 p-8 border rounded-md shadow-lg bg-white mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Create a New Blog"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-bold mb-2",children:"Title"}),e.jsx("input",{type:"text",id:"title",name:"title",placeholder:"Enter blog title",onChange:F=>c(F.target.value),value:l,className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"author",className:"block text-gray-700 font-bold mb-2",children:"Author"}),e.jsx("input",{value:s,type:"text",id:"author",name:"author",placeholder:"Enter author name",onChange:F=>n(F.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"date",className:"block text-gray-700 font-bold mb-2",children:"Date"}),e.jsx("input",{value:a,type:"date",id:"date",name:"date",onChange:F=>i(F.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 font-bold mb-2",children:"Category"}),e.jsxs("select",{value:r,id:"category",name:"category",onChange:F=>d(F.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"default",defaultValue:!0,disabled:!0,children:"Select one"}),e.jsx("option",{value:"technology",children:"Technology"}),e.jsx("option",{value:"sports",children:"Sports"}),e.jsx("option",{value:"current affairs",children:"Current Affairs"}),e.jsx("option",{value:"world wide",children:"World Wide"}),e.jsx("option",{value:"plants",children:"Plants"}),e.jsx("option",{value:"animals",children:"Animals"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"travel",children:"Travel"}),e.jsx("option",{value:"fashion",children:"Fashion"}),e.jsx("option",{value:"science",children:"Science"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"content",className:"block text-gray-700 font-bold mb-2",children:"Content"}),e.jsx(be,{ref:U,onChange:F=>b(F),value:x})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap",children:R.map(F=>e.jsxs("label",{className:"inline-flex items-center mr-4 mb-2",children:[e.jsx("input",{type:"checkbox",value:g,checked:g.includes(F),onChange:()=>S(F),className:"form-checkbox h-5 w-5 text-blue-500"}),e.jsx("span",{className:"ml-2",children:F})]},F))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imageURL",className:"block text-gray-700 font-bold mb-2",children:"Image URL"}),e.jsx("input",{value:I,type:"text",id:"imageURL",name:"imageURL",placeholder:"Enter image URL",onChange:F=>f(F.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:border-blue-500"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{htmlFor:"featured",className:"flex items-center",children:[e.jsx("input",{value:N,type:"checkbox",id:"featured",name:"featured",checked:N,onChange:()=>k(!N),className:"mr-2"}),e.jsx("span",{className:"text-gray-700 font-bold",children:"Featured"})]})}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300",children:"Submit"})]}),e.jsx(W,{})]})}const _s="/assets/message-DwMJ1NIe.png",Ps="/assets/add%20user-B6n0jn29.png",Re="https://backend-social-13bd.onrender.com",Bs=`${Re}/addgroupmessagetodatabase`,Ts=`${Re}/getgroupmessagetodatabase`,le=new Map([["A","red"],["B","blue"],["C","green"],["D","yellow"],["E","orange"],["F","purple"],["G","cyan"],["H","magenta"],["I","lime"],["J","pink"],["K","teal"],["L","indigo"],["M","brown"],["N","coral"],["O","gold"],["P","silver"],["Q","navy"],["R","olive"],["S","maroon"],["T","crimson"],["U","violet"],["V","aquamarine"],["W","turquoise"],["X","khaki"],["Y","salmon"],["Z","tan"],["a","lightcoral"],["b","lightblue"],["c","lightgreen"],["d","lightyellow"],["e","lightsalmon"],["f","lightpink"],["g","lightcyan"],["h","lightgoldenrodyellow"],["i","lightgreen"],["j","lightcoral"],["k","lightblue"],["l","lightseagreen"],["m","lightsteelblue"],["n","lightgrey"],["o","lightskyblue"],["p","lightcoral"],["q","lightgreen"],["r","lightpink"],["s","lightsalmon"],["t","lightblue"],["u","lightcoral"],["v","lightseagreen"],["w","lightsteelblue"],["x","lightgrey"],["y","lightskyblue"],["z","lightcoral"]]);function Os(){var b;const o=(b=J().state)==null?void 0:b.group,[h,m]=t.useState(""),[l,c]=t.useState([]),[s,n]=t.useState(),a=M();t.useState(()=>{const g=JSON.parse(localStorage.getItem("blog-user"));n(g),console.log(g)},[]),t.useEffect(()=>{console.log(le.get("a"))},[]);const i=async()=>{try{const g=await p.post(`${Bs}`,{groupId:o._id,currentUserId:s._id,currentUserName:s.username,messageData:h,date:new Date().toLocaleString("en-US")});console.log(g)}catch(g){console.log(g)}m("")};t.useEffect(()=>{(async()=>{try{const C=await p.get(`${Ts}?groupId=${o._id}`);C.data.response&&c(C.data.response)}catch(C){console.log(C)}})()},[o._id,h,l]);const r=()=>{},d=()=>{},x=()=>{a("/groupinformation",{state:{group:o}})};return e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsxs("div",{onClick:x,className:"bg-gray-800 text-white p-4 flex items-center cursor-pointer",children:[e.jsx("img",{src:o.profileLink,alt:"Group Profile",className:"h-10 w-10 rounded-full mr-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:o.groupName}),e.jsx("div",{children:e.jsx("p",{className:" text-xs ml-2",children:"Tap here for group info"})})]}),e.jsx("div",{className:"flex-grow bg-gray-200 p-4 overflow-y-auto",children:e.jsx("div",{className:"custom-scrollbar",children:l.map((g,C)=>e.jsx("div",{className:`flex justify-${g.currentUserId===s._id||g.currentUserName===s.username?"end":"start"} mb-4`,children:e.jsxs("div",{className:`bg-${g.currentUserId===s._id?"blue":"green"}-500 text-white p-3 rounded max-w-3/4`,children:[e.jsx("p",{className:"mb-1",children:g.messageData}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`text-xs text-${le.get(g.currentUserName[0])}-700`,children:g.currentUserId===s._id?e.jsx(e.Fragment,{children:e.jsx("span",{className:`text-${le.get(g.currentUserName[0])}-700`,children:s.username})}):e.jsx(e.Fragment,{children:e.jsx("span",{className:`text-${le.get(s.username[0])}-700`,children:g.currentUserName})})}),g.currentUserId===s._id&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>r(),className:"text-xs text-gray-300 hover:text-gray-500",children:"Edit"}),e.jsx("button",{onClick:()=>d(),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]})]})]})},C))})}),e.jsxs("div",{className:"bg-gray-800 p-4 flex items-center",children:[e.jsx("input",{onChange:g=>m(g.target.value),value:h,type:"text",placeholder:"Enter your message",className:"flex-grow p-2 rounded border border-gray-300 mr-2"}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Send"})]})]})}const ce="https://backend-social-13bd.onrender.com",Gs=`${ce}/addgroupchatroommessage`,Js=`${ce}/getallgroupsdetails`,Vs=`${ce}/addanewmembertogroup`,Hs=`${ce}/removeuserfromgroup`;function Ws({addedUsers:u,localStorageUser:o}){const[h,m]=t.useState(""),[l,c]=t.useState(""),[s,n]=t.useState(""),[a,i]=t.useState(""),[r,d]=t.useState(!1),x=M(),b=async g=>{g.preventDefault();const C=await p.post(`${Gs}`,{groupName:h,groupDescription:l,profileLink:s,admins:a,isAdminOnlyMessage:r,allMembersDetails:u,GroupCreatorId:o._id});console.log(C),C&&x("/groupchatroom",{state:{groupName:h,groupDescription:l,profileLink:s,admins:a,isAdminOnlyMessage:r,allMembersDetails:u}})};return t.useState(()=>{console.log("thi sis the GroupDetails form ::",typeof u)},[]),e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-center py-4 bg-blue-500 text-white rounded-t-lg",children:"Group Details Form"}),e.jsxs("form",{className:"p-6",onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-gray-700",children:"Enter the Group Name"}),e.jsx("input",{type:"text",id:"groupName",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",value:h,onChange:g=>m(g.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"groupDescription",className:"block text-sm font-medium text-gray-700",children:"Add Group Description"}),e.jsx("textarea",{id:"groupDescription",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",value:l,onChange:g=>c(g.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"profileLink",className:"block text-sm font-medium text-gray-700",children:"Add Profile Link"}),e.jsx("input",{type:"text",id:"profileLink",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",value:s,onChange:g=>n(g.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"admins",className:"block text-sm font-medium text-gray-700",children:"Write the Admin's Username"}),e.jsx("input",{id:"admins",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",value:a,onChange:g=>i(g.target.value)})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isAdminOnlyMessage",className:"mr-2 rounded focus:ring-blue-500 text-blue-500",checked:r,onChange:g=>d(g.target.checked)}),e.jsx("label",{htmlFor:"isAdminOnlyMessage",className:"text-sm font-medium text-gray-700",children:"Only Admin Can Send Messages"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"Create Group"})})]})]})}function qs(){const u=t.useState(null),[o,h]=t.useState([]),[m,l]=t.useState(),[c,s]=t.useState({}),[n,a]=t.useState(!1),i=M();t.useEffect(()=>{(async()=>{try{const g=await p.get(Se);console.log(g),h(g.data.response)}catch(g){console.log(g)}})()},[]),t.useEffect(()=>{(async()=>{try{const g=await JSON.parse(localStorage.getItem("blog-user"));console.log("the local ::",g._id),g?l(g):i("/register")}catch(g){console.log(g)}})()},[]),t.useEffect(()=>{if(m){const b=fe(L);b.on("connect",()=>{console.log("Socket connected"),b.emit("add-user",m._id)})}},[m]);const r=b=>{i("/directmessage",{state:{from:m._id,to:b._id,fromName:m.username,toName:b.username,socketId:u.id}})},d=b=>{s(g=>({...g,[b._id]:b})),w.success(`hello dear ${b.username} is added succesfully to your group`)};t.useEffect(()=>{},[c]);const x=()=>{a(!0)};return e.jsxs("div",{className:"container mx-auto mt-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"All Users"}),o.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((b,g)=>e.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-md transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-center mb-4",children:b.username}),e.jsxs("div",{className:" flex space-x-4 justify-between",children:[e.jsxs("button",{onClick:()=>r(b),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full w-full",children:["Message ",b.username]}),e.jsx("button",{onClick:()=>d(b),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:e.jsx("img",{src:Ps,alt:"adduser button",className:"w-5 h-5"})})]})]})},g))}),n==!1?e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md text-center",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Click to create a new Group"}),e.jsx("button",{onClick:x,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"Click"})]})]}):e.jsx(e.Fragment,{}),e.jsx("div",{children:n==!0?e.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-8",children:"Create a New Group"}),e.jsx(Ws,{addedUsers:c,localStorageUser:m})]}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-lg text-center text-gray-700",children:"Add users to create a group together!"})})})]}):e.jsx("p",{children:"No users found."}),e.jsx(W,{})]})}function Ys(){const[u,o]=t.useState();t.useState(!1);const[h,m]=t.useState(!1),[l,c]=t.useState(!1),[s,n]=t.useState(),[a,i]=t.useState(!1),[r,d]=t.useState(!1),[x,b]=t.useState(!1),[g,C]=t.useState(!1),I=M(),[f,N]=t.useState(""),[k,_]=t.useState(""),[D,U]=t.useState(""),[H,S]=t.useState(""),[R,T]=t.useState(""),[Y,F]=t.useState(""),[A,O]=t.useState(""),[K,Z]=t.useState(""),[v,G]=t.useState(""),[ee,P]=t.useState("");t.useEffect(()=>{(async()=>{try{const B=await localStorage.getItem("blog-user");console.log(B),B||I("/register")}catch(B){console.log(B)}})()},[]),t.useEffect(()=>{(async()=>{try{const B=await JSON.parse(localStorage.getItem("blog-user"));B?o(B):(w.error("please register first"),I("/register"));try{const q=await p.get(`${ve}/${B._id}`);q.data.status&&(n(q.data.response[0]),m(!0))}catch(q){console.log(q)}c(!0)}catch(B){console.log(B)}})()},[]);const de=async $=>{$.preventDefault();try{(await p.post(`${es}`,{profileImage:f,userId:u._id,village:k,districk:D,pincode:H,state:R,country:Y,phoneNumber:A,proffession:K,about:v,accountType:ee})).data.status&&(w.success("hello your profile is updated successfully"),m(!0),b(!0))}catch(B){console.log(B)}},se=$=>{P($)},me=()=>{m(!1),N(s.profileImage),_(s.village),U(s.districk),S(s.pincode),T(s.state),F(s.country),O(s.phoneNumber),Z(s.proffession),G(s.about),P(s.accountType),i(!0)},ue=async()=>{try{(await p.post(`${ss}`,{profileImage:f,userId:u._id,village:k,districk:D,pincode:H,state:R,country:Y,phoneNumber:A,proffession:K,about:v,accountType:ee})).data.status&&(d(!0),w.info("your profile is updated successfully"),i(!1))}catch($){console.log($)}};t.useEffect(()=>{(async()=>{try{const B=await JSON.parse(localStorage.getItem("blog-user"));o(B);try{const q=await p.get(`${ve}/${B._id}`);q.data.status&&(n(q.data.response[0]),m(!0))}catch(q){console.log(q)}c(!0)}catch(B){console.log(B)}})()},[r,x,a]);const te=()=>{I("/followers",{state:{user:u}})},ae=()=>{I("/followings",{state:{user:u}})},oe=()=>{I("/userrecentmessages",{state:{user:u}})},ge=()=>{I("/myallgroups",{state:{user:u}})},he=()=>{C(!0)},xe=()=>{I("/mysavedposts")};return e.jsxs("div",{children:[h===!0?e.jsxs(e.Fragment,{children:["  ",e.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-10 rounded shadow-md max-w-xxl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile",className:"rounded-full w-20 h-20 mx-auto mb-4 object-cover"}),e.jsxs("h2",{className:"text-3xl font-bold text-blue-700",children:[u==null?void 0:u.username,"  Profile"]}),e.jsxs("p",{className:"text-gray-500",children:["User ID: ",s==null?void 0:s.userId]})]}),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Information"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Village:"})," ",s==null?void 0:s.village]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"District:"})," ",s==null?void 0:s.districk]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Pincode:"})," ",s==null?void 0:s.pincode]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"State:"})," ",s==null?void 0:s.state]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",s==null?void 0:s.country]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Phone Number:"})," ",s==null?void 0:s.phoneNumber]})]})}),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Professional Information"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Profession:"})," ",s==null?void 0:s.proffession]})]})}),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"About Me"}),e.jsx("p",{className:"text-gray-700",children:s==null?void 0:s.about}),e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsx("button",{className:"bg-blue-500  hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:me,children:"Edit Profile"}),e.jsx("button",{className:"bg-blue-500  hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:te,children:"Followers"}),e.jsx("button",{className:"bg-blue-500  hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:ae,children:"Followings"})]})]})}),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Account Type"}),e.jsx("p",{className:`text-lg ${(s==null?void 0:s.accountType)==="public"?"text-green-500":"text-red-500"}`,children:s==null?void 0:s.accountType})]})}),e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsxs("button",{className:"bg-blue-500   hover:bg-blue-600  text-gray-50 text-font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4 flex items-center justify-center",onClick:oe,children:[e.jsx("img",{className:"  text-gray-50 w-5 h-5 mr-2",src:_s,alt:"Message"}),e.jsx("span",{className:"  text-gray-50",children:"Message"})]}),e.jsx("button",{className:"bg-blue-500  hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:xe,children:"Saved Posts"}),e.jsx("button",{className:"bg-blue-500  hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:ge,children:"Groups"})]})]})}),!g&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("h3",{className:"text-3xl font-semibold text-center text-gray-800 mb-4",children:"Click below to create groups"}),e.jsx("button",{onClick:he,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"Create Groups"})]})})]}):e.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Dear  ",e.jsx("span",{className:"text-blue-700",children:`@${u==null?void 0:u.username}`})," please complete your profile "]}),e.jsxs("form",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"village",className:"block text-sm font-medium text-gray-600",children:"profile Image Link"}),e.jsx("input",{value:f,onChange:$=>{N($.target.value)},type:"text",id:"village",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"village",className:"block text-sm font-medium text-gray-600",children:"Village"}),e.jsx("input",{onChange:$=>{_($.target.value)},type:"text",value:k,id:"village",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"district",className:"block text-sm font-medium text-gray-600",children:"District"}),e.jsx("input",{onChange:$=>{U($.target.value)},type:"text",value:D,id:"district",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-600",children:"Pincode"}),e.jsx("input",{onChange:$=>{S($.target.value)},type:"text",value:H,id:"pincode",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-600",children:"State"}),e.jsx("input",{onChange:$=>{T($.target.value)},type:"text",value:R,id:"state",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-600",children:"Country"}),e.jsx("input",{onChange:$=>{F($.target.value)},type:"text",value:Y,id:"country",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-600",children:"Phone Number"}),e.jsx("input",{onChange:$=>{O($.target.value)},type:"tel",value:A,id:"phone",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium text-gray-600",children:"Profession"}),e.jsx("input",{onChange:$=>{Z($.target.value)},type:"text",value:K,id:"profession",className:"mt-1 p-2 w-full border rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-600",children:"About"}),e.jsx("textarea",{onChange:$=>{G($.target.value)},id:"about",value:v,className:"mt-1 p-2 w-full border rounded-md",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"public",className:"block text-sm font-medium text-gray-600 mb-2",children:"Account Type:"}),e.jsxs("div",{children:[e.jsxs("label",{className:"inline-flex items-center mr-4",children:[e.jsx("input",{type:"radio",id:"public",value:ee,checked:ee==="public",onChange:()=>se("public"),className:"form-radio h-5 w-5 text-indigo-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Public"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",id:"private",value:"private",onChange:()=>se("private"),className:"form-radio h-5 w-5 text-indigo-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Private"})]})]})]})]}),a===!0?e.jsxs(e.Fragment,{children:["  ",e.jsx("button",{onClick:ue,type:"submit",className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition duration-300",children:"save it"})]}):e.jsxs(e.Fragment,{children:["  ",e.jsx("button",{onClick:de,type:"submit",className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition duration-300",children:"Submit"})]})]}),g&&e.jsx(qs,{}),e.jsx(W,{})]})}const Le="https://backend-social-13bd.onrender.com",Ks=`${Le}/editmessage`,zs=`${Le}/deletemessage`,Zs="/assets/delete%20message-BKRP8gDC.gif",Qs="/assets/editMessage-Cs9bCJyE.gif";function Xs(){var F,A,O,K,Z;const u=J(),o=(F=u.state)==null?void 0:F.from,h=(A=u.state)==null?void 0:A.to,m=(O=u.state)==null?void 0:O.fromName,l=(K=u.state)==null?void 0:K.toName,c=(Z=u.state)==null?void 0:Z.socketId,s=t.useRef(c?fe(c):null),n=t.useRef();t.useState(()=>{console.log(c)},[]);const[a,i]=t.useState(""),[r,d]=t.useState(null),[x,b]=t.useState([]),[g,C]=t.useState(""),[I,f]=t.useState(!1),[N,k]=t.useState(!1),[_,D]=t.useState(!1),U=v=>{i(v.target.value)},H=async()=>{k(!0),D(!0);try{a.trim().length>0?await p.post(`${rs}`,{from:o,to:h,message:a,fromName:m,toName:l})&&w.success("Message sent"):console.log("Message is empty")}catch(v){console.log(v)}i(""),s.current?s.current.emit("send-msg",{to:h,from:o,message:a}):console.log("Socket object is NULL")};t.useEffect(()=>{s.current&&s.current.on("msg-recieve",v=>{d({fromSelf:!1,message:v})})},[]),t.useEffect(()=>{r&&b(v=>[...v,r])},[r]),t.useEffect(()=>{var v;(v=n.current)==null||v.scrollIntoView({behavior:"smooth"})},[x]);const S=v=>{v.key==="Enter"&&(v.preventDefault(),H())},R=async v=>{f(!0),i(v.message),C(v._id)},T=async v=>{console.log("delete",v._id);try{const G=await p.post(`${zs}`,{msgId:v._id});console.log(G),G&&w.error("Your message is deleted")}catch(G){console.log(G)}},Y=async()=>{try{const v=await p.post(`${Ks}`,{msgId:g,newMessage:a});console.log(v),v&&w.success("Your message is edited successfully")}catch(v){console.log(v)}i(""),f(!1)};return t.useEffect(()=>{(async()=>{try{const G=await p.post(`${ls}`,{from:o,to:h});b(G.data.response)}catch(G){console.log(G)}})()},[x]),e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[e.jsx("div",{className:"flex-grow overflow-auto p-4",children:x.map((v,G)=>e.jsx("div",{className:`flex justify-${v.from===o?"end":"start"} mb-4`,children:e.jsxs("div",{className:`bg-${v.from===o?"blue":"green"}-500 text-white p-3 rounded max-w-3/4`,children:[e.jsx("p",{className:"mb-1",children:v.message}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs",children:v.from===o?m:l}),v.from===o&&e.jsxs("div",{className:"flex space-x-2 justify-between",children:[e.jsx("button",{onClick:()=>R(v),className:"text-xs text-gray-300 hover:text-gray-500",children:e.jsx("img",{className:"w-5 h-5",src:Qs,alt:""})}),e.jsx("button",{onClick:()=>T(v),className:"text-xs text-red-500 hover:text-red-700",children:e.jsx("img",{className:"w-5 h-5",src:Zs,alt:""})})]})]})]})},G))}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"sticky-bottom bg-white p-4 rounded shadow-md flex items-center message_input_field",children:[e.jsx("input",{onChange:U,value:a,type:"text",placeholder:"Enter the message",className:"border p-2 rounded w-full mr-2",onKeyDown:S}),I?e.jsx("button",{onClick:Y,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Edit"}):e.jsx("button",{onClick:H,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Send"})]})]})}function et(){return e.jsx("div",{children:"Error Bro"})}function st(){var c;const o=(c=J().state)==null?void 0:c.user,[h,m]=t.useState([]),l=async(s,n)=>{console.log("clicked",s,n);try{const a=await p.post(`${Ee}`,{from:s,to:n});console.log(a),a&&w.success("follower is removed ")}catch(a){console.log(a)}};return t.useEffect(()=>{(async()=>{try{const n=await p.post(`${Us}`,{to:o._id});console.log("this is my follow response",n),m(n.data.response)}catch(n){console.log(n)}})()},[l]),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-4",children:["Hello, ",o.username,"!"]}),e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"People who have followed you:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded shadow-md",children:[e.jsx("p",{className:"text-lg font-semibold",children:s.fromName}),e.jsx("p",{className:"text-gray-600",children:s.from}),e.jsx("button",{onClick:()=>l(s.from,s.to),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Remove"})]},s._id))}),e.jsx(W,{})]})}function tt(){var c;const[u,o]=t.useState([]),m=(c=J().state)==null?void 0:c.user,l=async(s,n)=>{console.log("clicked",s,n);try{const a=await p.post(`${Ee}`,{from:s,to:n});console.log(a),a&&w.info("follower is removed ")}catch(a){console.log(a)}};return t.useEffect(()=>{(async()=>{try{const n=await p.post(`${Rs}`,{from:m._id});o(n.data.response)}catch(n){console.log(n)}})()},[l]),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Following"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-md shadow-md hover:shadow-lg transition duration-300",children:[e.jsx("img",{src:s.profilePicture,alt:`${s.toName}'s Profile`,className:"w-16 h-16 object-cover rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-bold text-center mb-2",children:s.toName}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:s.bio}),e.jsx("button",{onClick:()=>l(s.from,s.to),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded mt-4 transition duration-300",children:"Unfollow"})]},s._id))}),e.jsx(W,{})]})}const at="https://backend-social-13bd.onrender.com",ot=`${at}/searchresults`;function rt(){var r;const o=(r=J().state)==null?void 0:r.searchData,[h,m]=t.useState([]),[l,c]=t.useState(),s=M();t.useEffect(()=>{(async()=>{try{const x=await p.post(`${ot}`,{searchData:o});x&&m(x.data.response)}catch(x){console.log(x)}})()},[o]),t.useEffect(()=>{(async()=>{try{const x=await JSON.parse(localStorage.getItem("blog-user"));x?c(x):s("/")}catch(x){console.log(x)}})()},[]);const n=async d=>{try{const b=(await p.get(`${z}/${d}`)).data.blog;s("/blogdetails",{state:{blogDetails:b}})}catch(x){console.log(x)}},a=async d=>{try{const b=(await p.get(`${ne}/${d}`)).data.blog;s(`/tag/${d}`,{state:{blogByTag:b,tag:d}})}catch(x){console.log(x)}},i=d=>{d.id===l._id?s("/userprofile"):s("/allusersprofiles",{state:{id:d.id,currentUserId:l._id,author:d.author}})};return e.jsx("div",{className:"container mx-auto mt-10",children:e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((d,x)=>e.jsxs("div",{className:"border p-4 rounded bg-white shadow hover:shadow-lg transition duration-300",children:[e.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-32 object-cover mb-4 rounded"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:d.title}),e.jsxs("button",{onClick:()=>i(d),children:["   ",e.jsx("p",{className:"text-gray-600 mb-2",children:d.author})]}),e.jsx("p",{className:"text-gray-500",children:d.category}),e.jsx("div",{className:"flex mt-4 space-x-2",children:d.tags.map((b,g)=>e.jsx("button",{onClick:()=>a(b),className:"bg-green-300 hover:bg-green-400 text-green-800 py-1 px-2 rounded transition duration-300 ease-in-out",children:e.jsx("span",{className:"px-2 py-1 text-xs text-gray-700 rounded",children:b},g)},g+1))}),e.jsx("div",{className:"flex justify-between items-center ",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4",onClick:()=>n(d._id),children:e.jsx("img",{className:"w-10 h-10",src:Ie,alt:"read more"})})})]},x*2+1))})})}const lt="https://backend-social-13bd.onrender.com",nt=`${lt}/recentmessage`,ie="https://backend-social-13bd.onrender.com",ct=`${ie}/registercallrequest`,it=`${ie}/allcalllogs`,dt=`${ie}/allcalllogsfromothers`,Me=`${ie}/deleterecentcalllogs`;function mt(){const[u,o]=t.useState([]),h=M();t.useEffect(()=>{(async()=>{try{const s=await JSON.parse(localStorage.getItem("blog-user")),n=await p.post(it,{userId:s==null?void 0:s._id});o(n.data.response)}catch(s){console.log(s)}})()},[]);const m=c=>{h("/videocallroom",{state:{roomId:c.callId.toString()}}),console.log("this is the common call id",c.callId)},l=async c=>{console.log(c);try{const s=await p.post(Me,{meetId:c.to,callLog:c});console.log(s)}catch(s){console.log(s)}};return e.jsxs("div",{className:"max-w-screen-lg mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-blue-600",children:"Recent Video Calls which i have done"}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(c=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transform hover:-translate-y-1 transition duration-300 ease-in-out",children:[e.jsxs("p",{className:"text-lg font-semibold text-blue-800",children:["Call ID: ",c._id]}),e.jsxs("p",{className:"text-gray-600",children:["Caller ID: ",c.from]}),e.jsxs("p",{className:"text-gray-600",children:["Receiver ID: ",c.to]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>m(c),className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Join Call"}),e.jsx("button",{onClick:()=>l(c),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Leave Call"})]})]},c._id))}):e.jsx("p",{className:"text-gray-600",children:"No recent video calls"})]})}function ut({user:u}){const[o,h]=t.useState([]),m=M();t.useEffect(()=>{(async()=>{try{const n=await p.post(dt,{userId:u._id});n&&h(n.data.response)}catch(n){console.log(n)}})()},[]);const l=s=>{m("/videocallroom",{state:{roomId:s.callId.toString()}}),console.log("this is the common call id",s.callId)},c=async s=>{console.log(s);try{const n=await p.post(Me,{meetId:s.from,callLog:s});console.log(n)}catch(n){console.log(n)}};return e.jsxs("div",{className:"max-w-screen-lg mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-blue-600",children:"Users Who Called You"}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transform hover:-translate-y-1 transition duration-300 ease-in-out",children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["Call ID: ",s._id]}),e.jsxs("p",{className:"text-gray-600",children:["Caller ID: ",s.from]}),e.jsxs("p",{className:"text-gray-600",children:["Receiver ID: ",s.to]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>l(s),className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Join Call"}),e.jsx("button",{onClick:()=>c(s),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Leave Call"})]})]},s._id))}):e.jsx("p",{className:"text-gray-600",children:"No users called you"})]})}function gt(){var s;const[u,o]=t.useState([]),m=(s=J().state)==null?void 0:s.user,l=M();t.useEffect(()=>{(async()=>{try{const a=await p.post(`${nt}`,{userId:m._id});a&&(o(a.data.response),console.log(typeof a.data.response))}catch(a){console.log(a)}})()},[]);const c=n=>{l("/directmessage",{state:{from:n.from,to:n.to,fromName:n.fromName,toName:n.toName}})};return e.jsxs("div",{className:"max-w-screen-lg mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Recent Conversations"}),u.length>0?u.map((n,a)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[e.jsx("button",{onClick:()=>c(n),className:"text-blue-500 font-semibold hover:underline mb-2",children:n!=null&&n.fromName?n.toName:n.to}),e.jsx("p",{className:"text-gray-600",children:n.message}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:new Date(n.timestamp).toLocaleString()})]},a)):e.jsx(e.Fragment,{children:"no recent messages"}),e.jsxs("div",{children:["This the section for the recent Video calls from the users for you",e.jsx(mt,{})]}),e.jsxs("div",{children:["the different users have called the current local user",e.jsx(ut,{user:m})]})]})}function ht(){var n,a;const[u,o]=t.useState(),h=M(),m=J(),l=(n=m.state)==null?void 0:n.from,c=(a=m.state)==null?void 0:a.to;t.useEffect(()=>{var i;o((i=m.state)==null?void 0:i.callId)},[]);const s=async()=>{console.log(l,c,u);try{const i=await p.post(`${ct}`,{from:l,to:c,callId:u});i.data.status==!1?w.info(i.data.message):(w.success(i.data.message),h("/userrecentmessages"))}catch(i){console.log(i)}};return e.jsxs("div",{className:"flex items-center justify-center h-screen",children:[e.jsxs("div",{className:"w-full max-w-xs",children:[e.jsx("input",{onChange:i=>o(i.target.value),value:u,className:"mb-4 px-4 py-2 border border-gray-300 rounded-lg w-full",type:"text",placeholder:"Enter your Room ID"}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-500 text-white rounded-lg w-full",type:"button",children:"Join"})]}),e.jsx(W,{})]})}function xt(){var m;const o=(m=J().state)==null?void 0:m.roomId;let h=async l=>{const n=pe.ZegoUIKitPrebuilt.generateKitTokenForTest(309407206,"56ef694f0da109be85982c8420a664f4",o,Date.now().toString(),"Rajan ");pe.ZegoUIKitPrebuilt.create(n).joinRoom({container:l,sharedLinks:[{name:"Personal link",url:window.location.protocol+"//"+window.location.host+window.location.pathname+"?roomId="+o}],scenario:{mode:pe.ZegoUIKitPrebuilt.OneONoneCall}})};return e.jsx("div",{ref:h})}function pt(){var s;const o=(s=J().state)==null?void 0:s.user,[h,m]=t.useState([]),l=M();t.useEffect(()=>{(async()=>{try{const a=await p.post(Js,{GroupCreatorId:o._id});a&&(m(a.data.response),console.log(a.data.response))}catch(a){console.error("Error fetching group list:",a)}})()},[o._id]);const c=n=>{console.log(n),l("/groupchatroom",{state:{group:n}})};return e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"All Groups"}),e.jsx("ul",{className:"divide-y divide-gray-200",children:h.map(n=>e.jsx("li",{onClick:()=>c(n),className:"py-4 group-item",children:e.jsxs("div",{className:"flex items-center space-x-4 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg p-4 shadow-md",children:[e.jsx("img",{src:n.profileLink,alt:"Group Profile",className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:n.groupName}),e.jsxs("p",{className:"text-gray-600",children:["Created by: ",n.admins]})]})]})},n._id))})]})}const bt="/assets/group%20settings-C-AJ5JvC.png";function ft({group:u}){const[o,h]=t.useState([]),[m,l]=t.useState([]),[c,s]=t.useState([]);t.useState([]),t.useState();const n=M();t.useEffect(()=>{(async()=>{try{const d=await p.get(Se);console.log(d),h(d.data.response)}catch(d){console.log(d)}})()},[]);const a=(r,d)=>{const x=[...m];x[d]=!0,l(x),s(b=>[...b,r]),console.log(c)},i=async()=>{console.log("clicked"),console.log(c);try{await p.post(`${Vs}`,{usersArray:c,groupId:u._id})&&w.success("Member is added successfully")}catch(r){console.log(r)}n("/userprofile")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-100 p-4",children:[e.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New Members to Group"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o&&o.map((r,d)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[e.jsx("p",{className:"font-semibold",children:r.username}),e.jsx("div",{className:"mt-2",children:m[d]===!0?e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Cancel"}):e.jsx("button",{onClick:()=>a(r,d),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Add"})})]},d))})]}),e.jsx("div",{className:"p-4 bg-gray-200 rounded-md",children:e.jsx("button",{onClick:i,className:"px-4 py-2 bg-green-500 text-white rounded-md cursor-pointer",children:"Add members"})})]})}function yt(){var d;const o=(d=J().state)==null?void 0:d.group,[h,m]=t.useState(!1),[l,c]=t.useState(),[s,n]=t.useState(!1),a=()=>{n(!s)};t.useEffect(()=>{const x=JSON.parse(localStorage.getItem("blog-user"));c(x)},[]);const i=x=>{m(!0)},r=async x=>{try{const b=await p.post(`${Hs}`,{groupId:o._id,memberId:x._id});console.log(b)}catch(b){console.log(b)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 text-white p-4 flex items-center justify-center",children:e.jsx("img",{src:o.profileLink,alt:"Group Profile",className:"h-32 w-auto object-cover rounded-md"})}),e.jsxs("div",{className:"p-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:o.groupName}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o.groupDescription}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Group Members"}),e.jsxs("ul",{children:[e.jsxs("div",{className:"flex items-center justify-start p-4 bg-gray-100 rounded shadow-md",children:[e.jsx("p",{className:"text-lg font-medium text-gray-700 mr-2",children:"Click here to change settings"}),e.jsx("button",{onClick:a,className:"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75",children:e.jsx("img",{className:"w-5 h-5",src:bt,alt:"Group Settings"})})]}),Object.values(o.allMembersDetails).map(x=>e.jsxs("li",{className:"flex items-center py-2",children:[o.admins.includes(x.username)?e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-green-400 text-white px-2 py-1 rounded-full text-xs mr-2",children:"Admin"}),e.jsx("p",{className:"text-gray-800 hover:text-blue-500 cursor-pointer",children:x.username})]}):e.jsx("p",{className:"text-gray-800",children:x.username}),e.jsxs("div",{className:"ml-auto flex items-center",children:[" ",e.jsxs("div",{className:"flex space-x-9",children:[e.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm ",children:"View Profile"}),(o==null?void 0:o.admins)===(l==null?void 0:l.username)?e.jsxs(e.Fragment,{children:[" ",e.jsx("button",{onClick:()=>r(x),children:e.jsx("img",{className:"h-5 w-5",src:Ue,alt:""})})]}):e.jsx(e.Fragment,{})]})]})]},x._id))]})]})]}),e.jsx("div",{className:"p-4 bg-gray-200 rounded-md shadow-md",children:h==!0?e.jsx(e.Fragment,{children:e.jsx(ft,{group:o})}):e.jsxs(e.Fragment,{children:["  ",e.jsx("h2",{children:"Click on add members to add a new users"}),e.jsx("button",{onClick:()=>i(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add Members"})]})})]})}function jt(){return e.jsx("div",{children:"thi sis my profile settings"})}function Nt(){const[u,o]=t.useState([]),[h,m]=t.useState([]),l=M();t.useEffect(()=>{(async()=>{try{const i=JSON.parse(localStorage.getItem("blog-user")),r=await p.get(`${ps}/${i._id}`);r.data&&r.data.response&&o(r.data.response)}catch(i){console.log("Error fetching saved posts:",i)}})()},[]);const c=async a=>{try{const r=(await p.get(`${z}/${a.postDetails._id}`)).data.blog;l("/blogdetails",{state:{blogDetails:r}})}catch(i){console.log(i)}},s=async(a,i)=>{const r=[...h];r[a]=!0,m(r);try{const d=await p.delete(`${bs}/${i}`);console.log(d)}catch(d){console.log(d)}},n=async(a,i)=>{const{userId:r,postDetails:d,savedStatus:x}=i;console.log(r,d,x);const b=[...h];b[a]=!1,m(b);try{const g=await p.post(`${De}`,{userID:r,postDetails:d,savedStatus:x});console.log(g)}catch(g){console.log(g)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Saved Posts"}),u.length>0?e.jsx("div",{children:u.map((a,i)=>e.jsxs("div",{className:"bg-white shadow-md rounded-md p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:a.postDetails.imageUrl,alt:"Profile",className:"w-12 h-12 rounded-full mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.postDetails.title}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Author: ",a.postDetails.author]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Date: ",new Date(a.postDetails.date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:()=>c(a),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Read More"}),h[i]?e.jsx("div",{children:e.jsx("button",{onClick:()=>n(i,a),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300",children:"Undo"})}):e.jsx("button",{onClick:()=>s(i,a._id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Remove Post"})]})]},i))}):e.jsx("p",{className:"text-gray-800",children:"No saved posts found."})]})}function vt(){const[u,o]=t.useState([]),[h,m]=t.useState(),l=M();t.useEffect(()=>{(async()=>{try{const i=await JSON.parse(localStorage.getItem("blog-user"));i?m(i):l("/")}catch(i){console.log(i)}})()},[]),t.useEffect(()=>{(async()=>{try{const i=await p.get(`${ye}`);o(i.data.blogs)}catch(i){console.log(i)}})()},[]);const c=async a=>{try{const r=(await p.get(`${z}/${a}`)).data.blog;l("/blogdetails",{state:{blogDetails:r}})}catch(i){console.log(i)}},s=a=>{a.id==h._id?l("/userprofile"):l("/allusersprofiles",{state:{id:a.id,currentUserId:h._id,author:a.author}}),console.log("this is suther::",a.author,h._id)},n=async a=>{try{const r=(await p.get(`${ne}/${a}`)).data.blog;l(`/tag/${a}`,{state:{blogByTag:r,tag:a}})}catch(i){console.log(i)}};return e.jsx("div",{className:" container mx-auto px-4 bg-slate-500 ",children:e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((a,i)=>e.jsxs("div",{className:"border p-4 rounded bg-white shadow-md transform hover:scale-105 transition duration-300 ease-in-out",children:[e.jsx("img",{src:a.imageUrl,alt:a.title,className:"w-full h-32 object-cover mb-4 rounded"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:a.title}),e.jsx("button",{onClick:()=>s(a),children:e.jsx("p",{className:"text-gray-600 mb-2",children:a.author})}),e.jsx("p",{className:"text-gray-500",children:a.category}),e.jsx("div",{className:"flex mt-4 space-x-2",children:a.tags.map((r,d)=>e.jsx("button",{onClick:()=>n(r),className:"bg-green-300 hover:bg-green-400 text-green-800 py-1 px-2 rounded transition duration-300 ease-in-out",children:e.jsx("span",{className:"px-2 py-1 text-xs text-gray-700 rounded",children:r},d)},d+1))}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>c(a._id),children:"Read More"}),e.jsx("button",{className:"text-white font-bold py-2 px-4 rounded",onClick:()=>handleLikes(a._id),children:"Like"})]})]},i*2+1))})})}const wt=()=>{const u=t.useRef(null),[o,h]=t.useState(""),m={placeholder:"Start typing"},[l,c]=t.useState(""),[s,n]=t.useState(""),a=i=>{i.preventDefault()};return e.jsxs("form",{onSubmit:a,className:"max-w-lg mx-auto mt-8 p-8 bg-white rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-center text-gray-800",children:"What's going in your mind?"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block mb-2 text-sm font-medium text-gray-700",children:"Post Title"}),e.jsx("input",{type:"text",id:"title",value:l,onChange:i=>c(i.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter post title"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"content",className:"block mb-2 text-sm font-medium text-gray-700",children:"Post Content"}),e.jsx(be,{ref:u,value:o,onChange:i=>h(i),config:m})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium text-gray-700",children:"Post Category"}),e.jsxs("select",{id:"category",value:s,onChange:i=>n(i.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"category1",children:"Category 1"}),e.jsx("option",{value:"category2",children:"Category 2"}),e.jsx("option",{value:"category3",children:"Category 3"})]})]}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{type:"submit",className:"bg-indigo-500 text-white px-6 py-3 rounded-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Post"}),e.jsx("button",{type:"reset",className:"ml-4 bg-gray-300 text-gray-800 px-6 py-3 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Reset"})]})]})};function kt(){return e.jsx("div",{children:e.jsx(Te,{children:e.jsx(Ss,{children:e.jsxs(Be,{children:[e.jsx(E,{path:"/",element:e.jsx(Ce,{})}),e.jsx(E,{path:"/login",element:e.jsx(js,{})}),e.jsx(E,{path:"/register",element:e.jsx(Ns,{})}),e.jsx(E,{path:"/home",element:e.jsx(Ce,{})}),e.jsx(E,{path:"/createblog",element:e.jsx(vs,{})}),e.jsx(E,{path:"/myblogs",element:e.jsx($s,{})}),e.jsx(E,{path:"/blogdetails",element:e.jsx(fs,{})}),e.jsx(E,{path:"/tag/:tag",element:e.jsx(Ds,{})}),e.jsx(E,{path:"/edit",element:e.jsx(As,{})}),e.jsx(E,{path:"/userprofile",element:e.jsx(Ys,{})}),e.jsx(E,{path:"/allusersprofiles",element:e.jsx(Ms,{})}),e.jsx(E,{path:"/directmessage",element:e.jsx(Xs,{})}),e.jsx(E,{path:"/followers",element:e.jsx(st,{})}),e.jsx(E,{path:"/followings",element:e.jsx(tt,{})}),e.jsx(E,{path:"/searchresults",element:e.jsx(rt,{})}),e.jsx(E,{path:"/userrecentmessages",element:e.jsx(gt,{})}),e.jsx(E,{path:"/videocall",element:e.jsx(ht,{})}),e.jsx(E,{path:"/videocallroom",element:e.jsx(xt,{})}),e.jsx(E,{path:"/groupchatroom",element:e.jsx(Os,{})}),e.jsx(E,{path:"/myallgroups",element:e.jsx(pt,{})}),e.jsx(E,{path:"/groupinformation",element:e.jsx(yt,{})}),e.jsx(E,{path:"/profilesettings",element:e.jsx(jt,{})}),e.jsx(E,{path:"/mysavedposts",element:e.jsx(Nt,{})}),e.jsx(E,{path:"/allblogsposts",element:e.jsx(vt,{})}),e.jsx(E,{path:"/createblogeditor",element:e.jsx(wt,{})}),e.jsx(E,{path:"*",element:e.jsx(et,{})})]})})})})}_e.createRoot(document.getElementById("root")).render(e.jsx(Ae.StrictMode,{children:e.jsx(kt,{})}));
